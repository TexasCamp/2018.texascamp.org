{"version":3,"file":"static/webpack/static/development/pages/news/[newsTitle].js.65adda805a213773f89a.hot-update.js","sources":["webpack:///./shared/query/withNews.js"],"sourcesContent":["import gql from 'graphql-tag';\nimport { graphql } from 'react-apollo';\nimport moment from 'moment';\nimport { titleToLink } from '../utils';\n\nexport const NEWS_QUERY = gql`\n  query allNews {\n    nodeQuery(offset: 0, limit: 999, filter: { type: \"news\" }) {\n      entities {\n        id: entityId\n        ...NewsTeaserFragment\n      }\n    }\n  }\n\n  fragment NewsTeaserFragment on NodeNews {\n    entityId\n    title\n    body {\n      value\n      summary\n    }\n    fieldNewsDate {\n      value\n    }\n  }\n`;\n\nexport const newsListMapper = (entities) =>\n  entities.map(entity => ({\n    title: entity.title,\n    body: entity.body.value,\n    summary: entity.body.summary,\n    publishedDate:\n      entity.fieldNewsDate && moment.utc(entity.fieldNewsDate.value),\n    urlString: titleToLink(entity.title),\n    id: entity.entityId,\n  }));\n\nconst withNews = graphql(NEWS_QUERY, {\n  props: ({\n    data: { nodeQuery: { entities = [] } = {}, loading },\n  }) => ({ newsList: loading ? [] : newsListMapper(entities) }),\n});\n\nexport default withNews;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAuBA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAPA;AAAA;AADA;AAWA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAFA;AADA;AAMA;;;;A","sourceRoot":""}